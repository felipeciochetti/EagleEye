<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:pe="http://primefaces.org/ui/extensions"
	xmlns:p="http://primefaces.org/ui">

<ui:composition template="/templates/TemplateDespachante.xhtml">

	<ui:define name="titulo">
	</ui:define>
	<ui:define name="corpo">
		<h:form id="formGeral">
		<p:focus id="focus" context="id_my_accor" />
		<p:panel id="id_my_accor" header="Processo"  styleClass="panel panel-heading  panel-primary" >
		<p:messages id="messages"  showDetail="true" autoUpdate="true" closable="true" />
			<div align="center">
				<p:panelGrid >
						<p:row>
							<p:column>
								<h:outputLabel id="lbReferenciaMvw" value="Ref MVW:" for="referenciaMvw" />
							</p:column>
							<p:column>
								<h:outputLabel id="referenciaMvw" value="#{processoBean.processo.referenciaMvw}" />
							</p:column>
							<p:column>
								<h:outputLabel id="lbDtAbertura" value="Data de Abertura:" for="dtAbertura" />
							</p:column>
							<p:column>
								<h:outputLabel id="dtAbertura"  value="  #{processoBean.formataData(processoBean.processo.dtAbertura)}"  />
							</p:column>
						</p:row>
						
						<p:row>
							<p:column>
								<p:outputLabel  value="Via Transporte: " for="viaTransporte" title="Via Transporte" />
							</p:column>
							<p:column>
								<p:autoComplete id="viaTransporte" value="#{processoBean.processo.viaTransporte}" maxResults="10" var="viaTransporte" completeMethod="#{processoBean.completeViaTransporte}" forceSelection="true"  itemLabel="#{viaTransporte.viaTransporte}" itemValue="#{viaTransporte}" converter="viaTransporteConverter" />
							</p:column>
							<p:column>
								<p:outputLabel  value="Referência Cliente:" for="referenciaCliente" title="Referência Cliente" />
							</p:column>
							<p:column>
								<p:inputText id="referenciaCliente" value="#{processoBean.processo.referenciaCliente}" maxlength="20" />
							</p:column>
						</p:row>
						<p:row>
							<p:column>
								<p:outputLabel  value="Cliente: " for="cliente" title="Cliente" />
							</p:column>
							<p:column colspan="3">
								<p:autoComplete id="cliente"  size="80" value="#{processoBean.processo.cliente}" maxResults="10" var="cliente" completeMethod="#{processoBean.completeCliente}" forceSelection="true"  itemLabel="#{cliente.nome}" itemValue="#{cliente}" converter="clienteConverter" />
								<p:commandButton oncomplete="dlgCadastrosCliente.show()" icon="addCliente"/>
							</p:column>
						</p:row>
						<p:row>
							<p:column>
								<p:outputLabel  value="Exportador/Sheep: " for="exportador" title="Exportador" />
							</p:column>
							<p:column colspan="3">
								<p:autoComplete id="exportador" size="80" value="#{processoBean.processo.exportador}" maxResults="10" var="exportador" completeMethod="#{processoBean.completeExportador}" forceSelection="true"  itemLabel="#{exportador.nome}" itemValue="#{exportador}" converter="exportadorConverter"/>
								<p:commandButton oncomplete="dlgCadastrosExportador.show()" icon="addCliente"/>
							</p:column>
							
						</p:row>
						
						<p:row>
							<p:column>
								<h:outputLabel id="lbVlCotacaoFreteInt" value="Cotação Frete Int:" for="vlCotacaoFreteInt" />
							</p:column>
							<p:column>
								<pe:inputNumber id="vlCotacaoFreteInt" value="#{processoBean.processo.vlCotacaoFreteInt}"  style="width: 120px" decimalSeparator="," thousandSeparator="."/>							
							</p:column>
							<p:column>
								<h:outputLabel id="lbDtcotacaoFrete" value="Data Cotação Frete:" for="dtcotacaoFrete" />
							</p:column>
							<p:column>
								<p:calendar id="dtcotacaoFrete"  value="#{processoBean.processo.dtCotacaoFrete}"  pattern="dd/MM/yy"/>
							</p:column>
						</p:row>
						<p:row>
							<p:column>
								<h:outputLabel id="lbVlCotacaoDesembAd" value="Cotação Desembaraço:" for="vlCotacaoDesembAd" />
							</p:column>
							<p:column>
								<pe:inputNumber id="vlCotacaoDesembAd" value="#{processoBean.processo.vlCotacaoDesembAd}"  style="width: 120px" decimalSeparator="," thousandSeparator="."/>							
							</p:column>
							<p:column>
								<h:outputLabel id="lbDtcotacaoDesembaraco" value="Data Cotação Desembaraço:" for="dtcotacaoDesembaraco" />
							</p:column>
							<p:column>
								<p:calendar id="dtcotacaoDesembaraco"  value="#{processoBean.processo.dtCotacaoDesembaraco}"  pattern="dd/MM/yy"/>
							</p:column>
						</p:row>
						
						<p:row>
							<p:column>
								<h:outputLabel id="lbDtSolicitacaoNumerario" value="Solicitacao Numerário:" for="dtSolicitacaoNumerario" />
							</p:column>
							<p:column>
								<p:calendar id="dtSolicitacaoNumerario"  value="#{processoBean.processo.dtSolicitacaoNumerario}"  pattern="dd/MM/yy"/>
							</p:column>
							<p:column>
								<h:outputLabel id="lbDtEntradaNumerario" value="Entrada Numerário:" for="dtEntradaNumerario" />
							</p:column>
							<p:column>
								<p:calendar id="dtEntradaNumerario"  value="#{processoBean.processo.dtEntradaNumerario}"  pattern="dd/MM/yy"/>
							</p:column>
						</p:row>
					
						<p:row>
							<p:column>
								<p:outputLabel value="Invoice: " for="invoice" />
							</p:column>
							<p:column>
								<p:inputText id="invoice" value="#{processoBean.processo.invoice}" maxlength="20" />
							</p:column>
							<p:column>
							</p:column>
							<p:column>
							</p:column>
							</p:row>
							
							<p:row>
							<p:column>
								<h:outputLabel id="lbDtPrevEmbarque" value="Previsão Embarque:" for="dtPrevEmbarque" />
							</p:column>
							<p:column>
								<p:calendar id="dtPrevEmbarque"  value="#{processoBean.processo.dtPrevisaoEmbarque}"  pattern="dd/MM/yy"/>
							</p:column>
							<p:column>
								<h:outputLabel id="lbDtEmbarque" value="Data de Embarque:" for="dtEmbarque" />
							</p:column>
							<p:column>
								<p:calendar id="dtEmbarque"  value="#{processoBean.processo.dtEmbarque}"  pattern="dd/MM/yy"/>
							</p:column>
							</p:row>
							<p:row>
							<p:column>
								<h:outputLabel id="lbDtPrevChegada" value="Previsão Chegada:" for="dtPrevChegada" />
							</p:column>
							<p:column>
								<p:calendar id="dtPrevChegada"  value="#{processoBean.processo.dtPrevisaoChegada}"  pattern="dd/MM/yy"/>
							</p:column>
							<p:column>
								<h:outputLabel id="lbDtChegada" value="Data de Chegada:" for="dtChegada" />
							</p:column>
							<p:column>
								<p:calendar id="dtChegada"  value="#{processoBean.processo.dtChegada}"  pattern="dd/MM/yy"/>
							</p:column>
						</p:row>

							<p:row>
							<p:column>
								<h:outputLabel id="lbNumeroDi" value="Número DI:" for="numeroDi" />
							</p:column>
							<p:column>
							<p:inputText id="numeroDi"  value="#{processoBean.processo.numeroDi}" maxlength="20" mask="99/9999999-9" />
							</p:column>
							<p:column>
								<h:outputLabel id="lbDtregistroDi" value="Data do Registro:" for="dtregistroDi" />
							</p:column>
							<p:column>
								<p:calendar id="dtregistroDi"  value="#{processoBean.processo.dtRegistroDi}"  pattern="dd/MM/yy"/>
							</p:column>
							</p:row>

					
						<p:row>
							<p:column>
								<h:outputLabel id="lbObservacao" value="Observacao:" for="observacao" />
							</p:column>
							<p:column  colspan="3">		
								<p:inputTextarea id="observacao" style="width: 98%" rows="5" autoResize="false" value="#{processoBean.processo.observacao}"/>
							</p:column>
							</p:row>
	
				<!--  EMBARQUE -->
								
					<p:row>
							<p:column>
								<h:outputLabel id="lbhouse" value="House:" for="house" />
							</p:column>
							<p:column  >		
								<p:inputText id="house"  value="#{processoBean.processo.house}"/>
							</p:column>
							<p:column>
								<h:outputLabel id="lbmaster" value="Master:" for="master" />
							</p:column>
							<p:column  >		
								<p:inputText id="master"  value="#{processoBean.processo.master}"/>
							</p:column>
					</p:row>
					<p:row>
						<p:column>
							<p:outputLabel value="Transportadora: " for="transportadora" />
						</p:column>
						<p:column>					
							<p:autoComplete id="transportadora" value="#{processoBean.processo.transportadora}" maxResults="10" size="40" var="transportadora" completeMethod="#{processoBean.completeTransportadora}" forceSelection="true"  itemLabel="#{transportadora.nome}" itemValue="#{transportadora}" converter="transportadoraConverter"/>
						</p:column>
						<p:column>
						</p:column>
						<p:column>					
						</p:column>		
						</p:row>
					
					<p:row>
						<p:column>
							<p:outputLabel value="Origem: " for="origem" />
						</p:column>
						<p:column>					
							<p:autoComplete id="origem" value="#{processoBean.processo.paisOrigem}" maxResults="10" var="paisOrigem" completeMethod="#{processoBean.completePais}" forceSelection="true"  itemLabel="#{paisOrigem.nome}" itemValue="#{paisOrigem}" converter="paisConverter"/>
						</p:column>
						<p:column>
							<p:outputLabel value="Destino: " for="destino" />
						</p:column>
						<p:column>					
							<p:autoComplete id="destino" value="#{processoBean.processo.paisDestino}" maxResults="10" var="paisDestino" completeMethod="#{processoBean.completePais}" forceSelection="true"  itemLabel="#{paisDestino.nome}" itemValue="#{paisDestino}" converter="paisConverter"/>
						</p:column>		
					</p:row>
					
					<p:row>
						<p:column>
							<p:outputLabel value="Porto Origem: " for="portoOrigem" />
						</p:column>
						<p:column>					
							<p:inputText id="portoOrigem"  value="#{processoBean.processo.portoOrigem}"/>
						</p:column>
						<p:column>
							<p:outputLabel value="Porto Destino: " for="portoDestino" />
						</p:column>
						<p:column>					
							<p:inputText id="portoDestino"  value="#{processoBean.processo.portoDestino}"/>
						</p:column>
					</p:row>
						
						<p:row>
							<p:column>
								<h:outputLabel id="lbDtEmbarqueAut" value="Data Embarque Aut:" for="dtEmbarqueAut" />
							</p:column>
							<p:column>
									<p:calendar id="dtEmbarqueAut"  value="#{processoBean.processo.dtEmbarqueAut}"  pattern="dd/MM/yy"/>
							</p:column>
							<p:column>
							</p:column>
							<p:column>
							</p:column>

						</p:row>
						
						<p:row>
							<p:column>
								<h:outputLabel id="lbDtEtd" value="Data ETD:" for="dtEtd" />
							</p:column>
							<p:column>
								<p:calendar id="dtEtd"  value="#{processoBean.processo.dtEtd}"  pattern="dd/MM/yy"/>
							</p:column>
							<p:column>
								<h:outputLabel id="lbdtEta" value="Data ETA:" for="dtEta" />
							</p:column>
							<p:column>
								<p:calendar id="dtEta"  value="#{processoBean.processo.dtEta}"  pattern="dd/MM/yy"/>
							</p:column>
						</p:row>
						
						<p:row>
							<p:column>
								<h:outputLabel id="lbdtRealPartida" value="Data Real Partida:" for="dtRealPartida" />
							</p:column>
							<p:column>
								<p:calendar id="dtRealPartida"  value="#{processoBean.processo.dtRealPartida}"  pattern="dd/MM/yy"/>
							</p:column>
							<p:column>
								<h:outputLabel id="lbdtRealChegada" value="Data Real Chegada:" for="dtRealChegada" />
							</p:column>
							<p:column>
								<p:calendar id="dtRealChegada"  value="#{processoBean.processo.dtRealChegada}"  pattern="dd/MM/yy"/>
							</p:column>
						</p:row>
						
						<p:row>
						<p:column>
							<p:outputLabel value="Avarias: " for="snAvarias" />
						</p:column>
						<p:column>					
							<p:selectOneMenu id="snAvarias" value="#{processoBean.processo.snAvarias}">  
    								<f:selectItems value="#{processoBean.simNaoQual}" 
    								 var="tp" itemValue="#{tp.valor}" itemLabel="#{tp.label}"/>  
    								 <p:ajax event="change" listener="#{processoBean.mudouTipoAvarias}" update="avariasPanel1 avariasPanel2"/>
							</p:selectOneMenu>  
						</p:column>
						<p:column>
						</p:column>
						<p:column>		
						</p:column>
						</p:row>
						
						<p:row>
						<p:column>
						<h:panelGroup id="avariasPanel1">
							<h:outputLabel id="lbdescAvarias" value="Desc Avarias:" for="descAvarias" rendered="#{processoBean.isAvarias()}" />
						</h:panelGroup>	
						</p:column>
							<p:column colspan="3">					
							<h:panelGroup id="avariasPanel2">
							<p:inputTextarea id="descAvarias" style="width: 98%" rows="5" autoResize="false" value="#{processoBean.processo.descAvarias}" rendered="#{processoBean.isAvarias()}" />  
							</h:panelGroup>
						</p:column>
						</p:row>
						
						<p:row>
						<p:column>
							<p:outputLabel value="Acionar Seg: " for="snAcionarSeguradora" />
						</p:column>
						<p:column>					
							<p:selectOneMenu id="snAcionarSeguradora" value="#{processoBean.processo.snAcionarSeguradora}">  
    								<f:selectItems value="#{processoBean.simNao}" 
    								 var="tp" itemValue="#{tp.valor}" itemLabel="#{tp.label}"/>  
							</p:selectOneMenu>  
						</p:column>
						<p:column>
						</p:column>
							<p:column  >		
							</p:column>
						</p:row>
						
						<p:row>
						<p:column>
							<p:outputLabel value="Remoção: " for="snRemocao" />
						</p:column>
						<p:column>					
							<p:selectOneMenu id="snRemocao" value="#{processoBean.processo.snRemocao}">  
    								<f:selectItems value="#{processoBean.simNaoQual}" 
    								 var="tp" itemValue="#{tp.valor}" itemLabel="#{tp.label}"/>  
							</p:selectOneMenu>
						</p:column>	  
						<p:column>
								<h:outputLabel id="lbdescRemocao" value="Porto Seco:" for="descRemocao" />
							</p:column>
							<p:column  >		
								<p:inputText id="descRemocao"  value="#{processoBean.processo.descRemocao}"/>
							</p:column>
						</p:row>
		
						<p:row>
							<p:column>
								<h:outputLabel id="lbdtSoliNfEntrada" value="Data Solicitação NF:" for="dtSoliNfEntrada" />
							</p:column>
							<p:column>
								<p:calendar id="dtSoliNfEntrada"  value="#{processoBean.processo.dtSoliNfEntrada}"  pattern="dd/MM/yy"/>
							</p:column>
							<p:column>
								<h:outputLabel id="lbdtRecNfEntrada" value="Data Recebimento Chegada:" for="dtRecNfEntrada" />
							</p:column>
							<p:column>
								<p:calendar id="dtRecNfEntrada"  value="#{processoBean.processo.dtRecNfEntrada}"  pattern="dd/MM/yy"/>
							</p:column>
						</p:row>
													
						<p:row>
							<p:column>
								<h:outputLabel id="lbparametrizacao" value="Parametrizacao:" for="parametrizacao" />
							</p:column>
							<p:column>
								<p:selectOneMenu id="parametrizacao" value="#{processoBean.processo.parametrizacao}">  
    								<f:selectItems value="#{processoBean.parametrizacao}" 
    								 var="tp" itemValue="#{tp.valor}" itemLabel="#{tp.label}"/>  
							</p:selectOneMenu>
							</p:column>
							<p:column>
							</p:column>
							<p:column>
							</p:column>
						</p:row>
	
			<!-- NCM -->
					<p:row>
        				<p:column colspan="4" styleClass="barraAzul"> NCM
            				<p:spacer height="0"/>
        				</p:column>
   					 </p:row>
					<p:row>
					<p:column  colspan="4">	
					<h:panelGroup columns="3" style="width: 100%">
						<p:outputLabel value="Ncm:   " for="txtncm" />
						<p:autoComplete id="txtncm" value="#{processoBean.ncm}" maxResults="10" var="ncm" completeMethod="#{processoBean.completeNcm}" forceSelection="true" size="70" itemLabel="#{ncm.formatadoNcm}" itemValue="#{ncm}" converter="ncmConverter" />
						<p:commandButton icon="add" action="#{processoBean.inserirNcm()}" update=":formGeral:id_my_accor"/>
					</h:panelGroup>
					</p:column>
					</p:row>
					<p:row>	
					<p:column  colspan="4">	
					<p:dataTable id="dt_listaNcm" value="#{processoBean.processoNcm}"  var="varNcm" border="1" >
						<!-- <f:facet name="header">Lista de Ncm</f:facet>  -->
						<p:column headerText="Código" width="100" style="text-align: center">
							<h:outputText value="#{varNcm.processoNcmPK.ncm.codigo}" />	
						</p:column>
						<p:column headerText="Nome" width="400" style="text-align: center">
								<h:outputText value="#{varNcm.processoNcmPK.ncm.ncm}" />	
						</p:column>
						<p:column headerText="Excluir" width="100" style="text-align: center">
							<p:commandButton  value="X" styleClass="btn vermelho" actionListener="#{processoBean.excluirNcm(varNcm)}" update=":formGeral"/>
						</p:column>
					</p:dataTable>
					</p:column>
					</p:row>
					<p:row>
					<p:column>
						<h:outputLabel id="lbMerc" value="Descrição Mercadoria:" for="descMercadoria" />
					</p:column>
					<p:column  colspan="3">		
								<p:inputTextarea id="descMercadoria" style="width: 98%" rows="5" autoResize="false" value="#{processoBean.processo.descMercadoria}"/>
					</p:column>
					</p:row>		

	<!--  documentos -->
				<p:row>
        				<p:column colspan="4" styleClass="barraAzul"> Documentos
            				<p:spacer height="0"/>
        				</p:column>
   				</p:row>
				<p:row>
					<p:column  colspan="4">
						<p:commandButton id="btnArquivosAnexos" icon="anexo"  value="Inserir" 
							oncomplete="dlgArquivosAnexos.show()" update=":modalDialogAnexos" />
					</p:column>
					</p:row>
				<p:row>	
				<p:column  colspan="4"  style="text-align: center">
				<p:dataTable id="dt_listaArquivosAnexos" value="#{processoBean.documentoProcesso}" var="doc" border="1" >
					 <!--   <f:facet name="header">Lista de Anexos</f:facet> -->
					<p:column headerText="Nome" width="200" style="text-align: center">
							<h:outputText value="#{doc.nome}" />	
					</p:column>
					<p:column headerText="Tipo" width="80" style="text-align: center">
							<h:outputText value="#{ processoBean.getTipoDocumentoFormatado(doc.tipoDocumento)}" />	
					</p:column>
					<p:column headerText="Excluir" width="80" >
						<p:commandButton  value="X" styleClass="btn vermelho" actionListener="#{processoBean.excluirArquivo(doc)}" update=":formGeral"/>
					</p:column>
					<p:column headerText="Baixar" width="80" >
						<p:commandButton   value="B" styleClass="btn verde" actionListener="#{processoBean.abrirArquivo(doc.nome)}" oncomplete="dlgOpenLink.show()" update=":modalDialogOpenLink"/>
					</p:column>
				</p:dataTable>
				</p:column>
				</p:row>
				
				<!--  LINHA TEMPO DOC -->
				
				<p:row>
        				<p:column colspan="4" styleClass="barraAzul"> Linha Tempo Documentos
            				<p:spacer height="0"/>
        				</p:column>
   				</p:row>
				<p:row>
        				<p:column colspan="4" > 
            				<button class="btn btn-info" type="button" onclick="dlgLinhaTempoDoc.show()">ver detalhes</button>
        				</p:column>
   					 </p:row>
				<p:row>
				</p:row>
				<p:row>	
				<p:column  colspan="4" >
				<p:dataTable id="dt_listaLinhaTempoDoc" value="#{processoBean.linhaTempoDocProcesso}"  var="doc" border="1" >
					<!--  <f:facet name="header">Linha Tempo Documento </f:facet> -->
					<p:column headerText="Fase" width="20" style="text-align: center">
							<h:outputText value="#{doc.fase}" />	
					</p:column>
					<p:column headerText="Descricao" width="150" style="text-align: center">
							<h:outputText value="#{ doc.descricao}" />	
					</p:column>
					<p:column headerText="Status" width="100" style="text-align: center">
							<h:outputText value="#{ processoBean.getStatusLinhaTempoDoc(doc.status)}" />	
					</p:column>
					<p:column headerText="Editar" width="80" style="text-align: center">
						<p:commandButton oncomplete="dlgArquivosLinhaTempoDoc.show()"  value="E" styleClass="btn laranja"  update=":modalDialogLinhaTempoDoc">
						 <f:setPropertyActionListener value="#{doc}" target="#{processoBean.linhaTempoDocAlterar}" />
						 </p:commandButton>
					</p:column>
				</p:dataTable>
				</p:column>
				</p:row>
				
				
				<!--  LINHA TEMPO EMBARQUE -->
				<p:row>
        				<p:column colspan="4" styleClass="barraAzul"> Linha Tempo Embarque
            				<p:spacer height="0"/>
        				</p:column>
   				</p:row>
   				<p:row>
        				<p:column colspan="4" > 
            				<button class="btn btn-info" type="button" onclick="dlgLinhaTempoEmb.show()">ver detalhes</button>
        				</p:column>
   				</p:row>
				<p:row>
				
				</p:row>
				<p:row>	
				<p:column  colspan="4" >
				<p:dataTable id="dt_listaLinhaTempoEmb" value="#{processoBean.linhaTempoEmbProcesso}"  var="doc" border="1" >
					<!--  <f:facet name="header">Linha Tempo Documento </f:facet> -->
					<p:column headerText="Fase" width="20" style="text-align: center">
							<h:outputText value="#{doc.fase}" />	
					</p:column>
					<p:column headerText="Descricao" width="150" style="text-align: center">
							<h:outputText value="#{ doc.descricao}" />	
					</p:column>
					<p:column headerText="Status" width="100" style="text-align: center">
							<h:outputText value="#{ processoBean.getStatusLinhaTempoEmb(doc.status)}" />	
					</p:column>
					<p:column headerText="Editar" width="80" style="text-align: center">
						<p:commandButton oncomplete="dlgArquivosLinhaTempoEmb.show()"  value="E" styleClass="btn laranja"  update=":modalDialogLinhaTempoEmb">
						 <f:setPropertyActionListener value="#{doc}" target="#{processoBean.linhaTempoEmbAlterar}" />
						 </p:commandButton>
					</p:column>
				</p:dataTable>
				</p:column>
				</p:row>
				
				
				</p:panelGrid>
				</div>
				
				
				
				
				</p:panel>
			<p:toolbar>
				<p:toolbarGroup>
					<p:commandButton action="#{processoBean.gravar()}" styleClass="btn verde"
						value="Gravar" update="@form focus" />
					<p:commandButton action="ListaProcesso" ajax="false"
						value="Cancelar" styleClass="btn vermelho" />
				</p:toolbarGroup>
			</p:toolbar>
		</h:form>
		<p:dialog id="modalDialogAnexos"  appendToBody="true"  header="Arquivos anexos" widgetVar="dlgArquivosAnexos" modal="true" height="500" width="600">
			<p:panel id="panArquivosAnexos">
				<p:messages id="msgArquivosAnexos1" for="msgArquivosAnexos" />
				<h:form enctype="mu,ltipart/form-data">
				<p:panelGrid>
						<p:row>
							<p:column>
							<p:selectOneMenu id="tipoDocumento" value="#{processoBean.tipoDoc}">  
    								<f:selectItems value="#{processoBean.tipoDocumento}" 
    								 var="tp" itemValue="#{tp.valor}" itemLabel="#{tp.label}"/>
    								 <p:ajax event="change" listener="#{processoBean.tipoDoc}"/>  
							</p:selectOneMenu>
							</p:column>
							</p:row>
							<p:row>
							<p:column>
					<p:fileUpload fileUploadListener="#{processoBean.handleFileUpload}"					
						update=":panArquivosAnexos :formGeral"
						mode="advanced"
						dragDropSupport="false"						
						cancelLabel="Cancelar"
						uploadLabel="Upload"
						multiple="true"
						showButtons="false"		
						label="Selecionar arquivo"
			            auto="false"  
			            sizeLimit="5000000"	            
			            invalidSizeMessage="Tamanho inválido. Máximo é 5mb"	            />
			    </p:column>
			    </p:row>
			    </p:panelGrid>
			    </h:form>
			</p:panel>
		</p:dialog>
		<p:dialog id="modalDialogOpenLink" appendToBody="true" header="Baixar" widgetVar="dlgOpenLink" modal="true" height="120" width="220" resizable="false">
			<div align="center">  
				<p>	<br></br>
				<h:outputLink value="#{processoBean.linkArquivoAnexo}" target="_blank" >
				<h:graphicImage library="img" name="baixar.png"  width="100" height="60" title="ABRIR ARQUIVO"/>
				</h:outputLink>
				</p>
			</div>
		</p:dialog>
		<p:dialog id="modalDialogLinhaTempoDoc"  appendToBody="true"  header="Linha Tempo Documentos" widgetVar="dlgArquivosLinhaTempoDoc" modal="true" height="300" width="500">
			<p:panel id="panLinhaTempoDoc">
				<p:messages id="msgLinhaTempoDoc1" for="msgLinhaTempoDoc" />
				<h:form enctype="multipart/form-data">
				<p:panelGrid>
				<f:facet name="header">		
				<p:row>
							<p:column>
							Fase
							</p:column>	
							<p:column>
							Descrição
							</p:column>	
							<p:column>
							Status
							</p:column>			
				</p:row>
				</f:facet>
						<p:row>
							<p:column>
							<h:outputText value="#{processoBean.linhaTempoDocAlterar.fase}" />
							</p:column>	
							<p:column>
							<h:outputText value="#{processoBean.linhaTempoDocAlterar.descricao}" />
							</p:column>	
							<p:column>
							<p:selectOneMenu id="statusFase" value="#{processoBean.linhaTempoDocAlterar.status}">  
    								<f:selectItems value="#{processoBean.statusFaseLinhaTempoDoc}" 
    								 var="tp" itemValue="#{tp.valor}" itemLabel="#{tp.label}"/>
							</p:selectOneMenu>
							</p:column>
							</p:row>
							<p:row>
							<p:column>
							<p:commandButton action="#{processoBean.gravarAlteracaoStatusLinhaTempoDoc()}"  styleClass="btn verde" value="Gravar" update=":formGeral :panLinhaTempoDoc :modaldlgLinhaTempoDoc" />
						    </p:column>
				    		<p:column>
			    			</p:column>
			    			<p:column>
			    			</p:column>
			    </p:row>
			    </p:panelGrid>
			    </h:form>
			</p:panel>
		</p:dialog>	
		
		<p:dialog id="modalDialogLinhaTempoEmb"  appendToBody="true"  header="Linha Tempo Embarque" widgetVar="dlgArquivosLinhaTempoEmb" modal="true" height="300" width="500">
			<p:panel id="panLinhaTempoEmb">
				<p:messages id="msgLinhaTempoEmb1" for="msgLinhaTempoEmb" />
				<h:form enctype="multipart/form-data">
				<p:panelGrid>
				<f:facet name="header">		
				<p:row>
							<p:column>
							Fase
							</p:column>	
							<p:column>
							Descrição
							</p:column>	
							<p:column>
							Status
							</p:column>			
				</p:row>
				</f:facet>
						<p:row>
							<p:column>
							<h:outputText value="#{processoBean.linhaTempoEmbAlterar.fase}" />
							</p:column>	
							<p:column>
							<h:outputText value="#{processoBean.linhaTempoEmbAlterar.descricao}" />
							</p:column>	
							<p:column>
							<p:selectOneMenu id="statusFase" value="#{processoBean.linhaTempoEmbAlterar.status}">  
    								<f:selectItems value="#{processoBean.statusFaseLinhaTempoDoc}" 
    								 var="tp" itemValue="#{tp.valor}" itemLabel="#{tp.label}"/>
							</p:selectOneMenu>
							</p:column>
							</p:row>
							<p:row>
							<p:column>
							<p:commandButton action="#{processoBean.gravarAlteracaoStatusLinhaTempoEmb()}"  styleClass="btn verde" value="Gravar" onclick="dlgArquivosLinhaTempoEmb.hide()" update=":formGeral :panLinhaTempoEmb :modaldlgLinhaTempoEmb" />
						    </p:column>
				    		<p:column>
			    			</p:column>
			    			<p:column>
			    			</p:column>
			    </p:row>
			    </p:panelGrid>
			    </h:form>
			</p:panel>
		</p:dialog>	
		
		
		
		<p:dialog id="modaldlgLinhaTempoDoc"  appendToBody="true"  header="Linha Tempo" widgetVar="dlgLinhaTempoDoc" modal="true" >
			<p:panel>
			<h:outputText value="#{processoBean.linhaTempoDocumento}" escape="false"/>
			</p:panel>
		</p:dialog>
		<p:dialog id="modaldlgLinhaTempoEmb"  appendToBody="true"  header="Linha Tempo" widgetVar="dlgLinhaTempoEmb" modal="true" >
			<p:panel>
			<h:outputText value="#{processoBean.linhaTempoEmbarque}" escape="false"/>
			</p:panel>
		</p:dialog>
		<p:dialog id="modalDialogCadastrosCliente"  appendToBody="true"  header="Cadastro Cliente" widgetVar="dlgCadastrosCliente" modal="true" >
			<ui:include src="CadastroClienteRapido.xhtml" />
		</p:dialog>
		<p:dialog id="modalDialogCadastrosExportador"  appendToBody="true"  header="Cadastro Exportador" widgetVar="dlgCadastrosExportador" modal="true" >
			<ui:include src="CadastroExportadorRapido.xhtml" />
		</p:dialog>
	</ui:define>
</ui:composition>

</html>